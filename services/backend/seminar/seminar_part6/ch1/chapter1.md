# 1. ν…μ¤νΈ
- part6μ λ©ν‘
  - pytestλ¥Ό μ‚¬μ©ν•μ—¬ μ• ν”λ¦¬μΌ€μ΄μ… λΌμ°νΈ ν…μ¤νΈλ¥Ό μ‘μ„±ν•κ³  λ‹¨μ„ ν…μ¤νΈ ν•λ” λ°©λ²•μ„ μ• μ μλ‹¤.
  

#### 1.1 pytestλ¥Ό μ‚¬μ©ν• λ‹¨μ„ ν…μ¤νΈ
- λ‹¨μ„ν…μ¤νΈλ€?
  - μ• ν”λ¦¬μΌ€μ΄μ…μ κ°€μ¥ μ‘μ€ λ‹¨μ„μΈ ν•¨μ, ν΄λμ¤ λ“± κ°λ³„μ μΈ λ¶€λ¶„μ„ ν…μ¤νΈ ν•λ” κ²ƒ
  - μλ¥Ό λ“¤μ–΄ κ°λ³„ λΌμ°νΈκ°€ μ μ ν• μ‘λ‹µμ„ λ°ν™ν•λ”μ§€ ν…μ¤νΈν•κΈ° μ„ν•΄ λ‹¨μ„ ν…μ¤νΈλ¥Ό λ„μ…ν•  μ μλ‹¤.
  - ν”„λ΅κ·Έλ¨μ μ‘μ€ λ¶€λ¶„μ„ κ²©λ¦¬λ ν™κ²½μ—μ„ ν…μ¤νΈν•λ―€λ΅ ν”„λ΅κ·Έλ¨μ λ‹¤λ¥Έ λ¶€λ¶„μ—μ„ λ°μƒν• μ¤λ¥λ΅ μΈν• μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.

<br/>

1. pytestλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ pytest λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ
    > (venv)$ pip install pytest

1. ν…μ¤νΈ νμΌμ„ ν•κ³³μ—μ„ κ΄€λ¦¬ν•κΈ° μ„ν•΄ plannerν΄λ” μ•„λμ— testsλΌλ” ν΄λ” μƒμ„±

2. ν…μ¤νΈ νμΌ μƒμ„± μ‹ νμΌλ… μ•μ— 'test_'λ¥Ό λ¶™μ—¬μ•Όλ§ ν•΄λ‹Ή νμΌμ΄ ν…μ¤νΈ νμΌμ΄λΌλ” κ²ƒμ„ pytestκ°€ μΈμ‹ν•μ—¬ μ‹¤ν–‰ν•λ‹¤. μ‚¬μΉ™μ—°μ‚°μ΄ λ§λ”μ§€ ν™•μΈν•λ” test_arithmetic_operations.pyλ¥Ό μƒμ„±ν•΄λ³΄μ.

```python
def add(a: int, b: int) -> int:
    return a + b


def subtract(a: int, b: int) -> int:
    return b - a


def multiply(a: int, b: int) -> int:
    return a * b


def divide(a: int, b: int) -> int:
    return b // a


def test_add() -> None:
    assert add(1, 1) == 11


def test_subtract() -> None:
    assert subtract(2, 5) == 3


def test_multiply() -> None:
    assert multiply(10, 10) == 100


def test_divide() -> None:
    assert divide(25, 100) == 4    
```

<br/>

###### ν…μ¤νΈ μ‹¤ν–‰ κ²°κ³Ό
![Alt text](img/part6_ch1_image.png)

- assert ν‚¤μ›λ“λ” μ‹μ μ™Όμ½μ— μλ” κ°’μ΄ μ¤λ¥Έμ½μ— μλ” κ²°κ³Όμ™€ μΌμΉν•λ”μ§€ κ²€μ¦ν•  λ–„ μ‚¬μ©
- ν…μ¤νΈ μ‹¤ν¨ κ²°κ³Όλ¥Ό ν™•μΈν•κΈ° μ„ν•΄ μ•„λμ™€ κ°™μ΄ μμ • ν›„ ν…μ¤νΈ
  
```python
def test_add() -> None:
    assert add(1,1) == 11
```

###### ν…μ¤νΈ μ‹¤ν–‰ κ²°κ³Ό
![Alt text](img/part6_ch1_image1.png)

<br/>

#### 1.1.2 ν”½μ¤μ²λ¥Ό μ‚¬μ©ν• λ°λ³µ μ κ±°
- ν”½μ¤μ²λ” ν…μ¤νΈ ν•¨μκ°€ μ‹¤ν–‰λκΈ° μ „ ν•„μ”ν• λ°μ΄ν„°λ‚ μƒνƒ,κ°μ²΄ λ“±μ„ λ―Έλ¦¬ μ„¤μ •ν•κ±°λ‚ κµ¬μ„±ν•λ”λ° μ‚¬μ©λλ‹¤.  

- @pytest.fixture λ°μ½”λ μ΄ν„°λ΅ μ§€μ •ν• ν•¨μλ” ν”½μ¤μ² ν•¨μκ°€ λκ³  μ΄ ν•¨μλ¥Ό ν…μ¤νΈ ν•  ν•¨μμ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ©΄ ν…μ¤νΈ ν•¨μλ¥Ό μ‹¤ν–‰ν•κΈ° μ „μ— ν”½μ¤μ²μ λ‚΄μ©μ΄ λ¨Όμ € μ‹¤ν–‰λλ‹¤.  

- yieldλ¬Έμ„ μ‚¬μ©ν•μ—¬ ν…μ¤νΈ μ‹¤ν–‰μ΄ λλ‚ ν›„ μ •λ¦¬μ‘μ—…(clean-up)μ„ μν–‰ν•λ” λ°μ—λ„ ν™μ©λλ‹¤.    

<br/>

###### ν”½μ¤μ² μ‚¬μ© μμ‹
```python
import pytest
import pdb;

@pytest.fixture
def file_fixture():
    """ νμΌμ„ μ—΄κ³  νμΌ κ°μ²΄λ¥Ό λ°ν™ν•λ” ν”½μ¤μ³ ν•¨μ """
    pdb.set_trace()
    # νμΌμ„ μ—¬λ” μ½”λ“
    file = open("test_file.txt", "w+")
    pdb.set_trace()
    # νμΌ κ°μ²΄λ¥Ό λ°ν™
    yield file
    
    pdb.set_trace()
    # μ •λ¦¬(clean-up)μ‘μ—…: νμΌμ„ λ‹«μ    
    file.close()
    

# νμΌμ— λ°μ΄ν„°λ¥Ό μ“°κ³ , μ½μ–΄μ„ ν™•μΈν•λ” ν…μ¤νΈ ν•¨μ μ •μ
def test_file_operations(file_fixture):
    pdb.set_trace()
    file_fixture.write("Hello, pytest!")
    file_fixture.seek(0)
    content = file_fixture.read()
    
    pdb.set_trace()
    assert content == "Hello, pytest!"
```

> π’΅ pdb(Python Debugger)λ¥Ό ν†µν• λ””λ²„κΉ…  
>  pytestμ—μ„ λ””λ²„κΉ… ν•„μ” μ‹μ—” pdbλ¥Ό μ‚¬μ©ν•΄ λ””λ²„κΉ…μ„ ν•  μ μλ‹¤.  
>  μ„ μμ μ—μ„  μ½”λ“μ μ§„ν–‰ νλ¦„μ„ μ ν”„ν•λ” fixtureμ™€ yieldκ°€ μ‚¬μ©λμ—κΈ°μ— μμ μ μ‹¤ν–‰νλ¦„μ„ νμ•…ν•κΈ° μ„ν•΄ pdbλ¥Ό μ‚¬μ©ν•μ€λ‹¤.

- pytestμ‹¤ν–‰μ‹ λ””λ²„κΉ…λ¨λ“λ΅ μ‹¤ν–‰ν•λ” λ…λ Ήμ–΄ 
  - pytest --pdb
- pdbμ—μ„ μμ£Ό μ‚¬μ©λλ” λ…λ Ήμ–΄
  - n(ext): λ‹¤μ μ¤„λ΅ μ΄λ™
  - c(ontinue): λ‹¤μ μ¤‘λ‹¨μ μΌλ΅ μ΄λ™
  - s(tep): ν•¨μ λ‚΄λ¶€λ΅ μ΄λ™
  - q(uit): λ””λ²„κ±° λ¨λ“λ¥Ό λλ‚΄κ³  ν”„λ΅κ·Έλ¨ μΆ…λ£

<br/>

![Alt text](img/part6_ch1_image2.png)